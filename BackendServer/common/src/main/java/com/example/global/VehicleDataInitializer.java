package com.example.global;

import com.example.global.Class.VehicleStatus;
import com.example.global.Class.VehicleType;
import com.example.entity.VehicleEntity;
import com.example.repository.VehicleRepository;
import jakarta.annotation.PostConstruct;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Component;

import java.time.LocalDateTime;
import java.util.List;
import java.util.stream.IntStream;

@Component
@RequiredArgsConstructor
public class VehicleDataInitializer {

  private final VehicleRepository vehicleRepository;

  private final List<String> vehicleNumbers = List.of(
      "37허9534", "77하9129", "47하7226", "18하9305", "42호3796", "89하8148", "25하2382", "88허2646", "64허1225", "99하5525",
      "26호6540", "50호2768", "94호8121", "19하5914", "70하3860", "20호9563", "79허1985", "72하7318", "69하4844", "47호5239",
      "66하3312", "43허9144", "63허8271", "45하5970", "87허9770", "36호6179", "24하1461", "61하2732", "67허9274", "79하8985",
      "35호7466", "26하6362", "92하8717", "35호8673", "78허7345", "84허4906", "33하1110", "91호3979", "12하5804", "21호2772",
      "29호4322", "79허8238", "89호9999", "29호8813", "31하6214", "24호3609", "82하9035", "16하1496", "77호9693", "12허8533",
      "36호2945", "22호5454", "13하8963", "25하4533", "71하5668", "24허5207", "50허4060", "85하7132", "64호1902", "19하8048",
      "67허4940", "17허2868", "79하6229", "65하3874", "33하5409", "31허3432", "21허2805", "33호2732", "73허2289", "25호2135",
      "18허3215", "39하7356", "33하3590", "65하8254", "75하6560", "51하3000", "64허1418", "80호3392", "39허2207", "29하2233",
      "94허3793", "98호1819", "87호3005", "53하3522", "31호7103", "95허7375", "19하9237", "80하1184", "31하3277", "24하1380",
      "93허2841", "73허2180", "30하8719", "68호8841", "63허8034", "44하8083", "67호7661", "71허9638", "54허7298", "42하3449",
      "22하2382", "81호1070", "50호4724", "29호3162", "72허5918", "18허3566", "42하1285", "47허1017", "47허5612", "98호7027",
      "45허7617", "88하7333", "98허4481", "40허6852", "15호7281", "76호8461", "70허5175", "47허1861", "36호1343", "52허8155",
      "30호6316", "76허7959", "92허8645", "86호9402", "30하8664", "94호3977", "40허7196", "78허6512", "77허5934", "43하9105",
      "42호6662", "36호8092", "69호3666", "35허6766", "89하1359", "40호3244", "64허1977", "78하7084", "55허3459", "92호8057",
      "14허7017", "12하6065", "12하8122", "40하6686", "72허4084", "56하1345", "48허5137", "64호7269", "77호1794", "65호5380",
      "27하7212", "77호4700", "56허4124", "36호1562", "84하7950", "85허3937", "18하3739", "31허3010", "94하2791", "66호2606",
      "86호5269", "38호4174", "84허9512", "65호7656", "55하9581", "84호6900", "92하3301", "77허4825", "86하6088", "60호1362",
      "85하6552", "79허5383", "71허4381", "56허9922", "58호2096", "71호9100", "79허6455", "39호1055", "69하5871", "49호8918",
      "27호3052", "74하5312", "44하4264", "70호4863", "62하3590", "18하5910", "51하4403", "99하6922", "25허2428", "79호1360",
      "40하5372", "88허5425", "18호2982", "89호3761", "80하9847", "76하2525", "33허2594", "45허3309", "17허7096", "73호8889",
      "52허9325", "77허1413", "81허6722", "10호5248", "59호2689", "80호6924", "23호7010", "54호5907", "33하3513", "70허7165",
      "86허3113", "33하4948", "20허3984", "34하8819", "33허1279", "78허2584", "41하2580", "97하3494", "90하4113", "71호1706",
      "27호4567", "10허3879", "19호1138", "30허5952", "23호7233", "98하5099", "12호5792", "18호9239", "24호9188", "65허1215",
      "78호6111", "77호5980", "64허9881", "85호6995", "51하5800", "66호7268", "31허5228", "55하9556", "96호7481", "38하2428",
      "69호2421", "99허8770", "26허1907", "19허9362", "96허4690", "37하6375", "21허7783", "31하4869", "40하7112", "66하8332",
      "15허1738", "37하9437", "18허5159", "49호9731", "32하5447", "58하8010", "29호1714", "22허9805", "86하7558", "30허5644",
      "61호5636", "42하8013", "20하5467", "51호9588", "45하6232", "23하5623", "63허7611", "84허4137", "70호7838", "24호6543",
      "37하1938", "58하7276", "75하1983", "77하2066", "16허3400", "16하6240", "80허6850", "43호2888", "58허2113", "99호7673",
      "26호1759", "26호3929", "54하8334", "31하8082", "94허2852", "11호7817", "91허2799", "34호8693", "97하7834", "47하5639",
      "58허2220", "72호9037", "30허2341", "87하8374", "69호1097", "98호2293", "32호2041", "10하1647", "53호3281", "95호8670",
      "40호6964", "42호5385", "16호8310", "59호3928", "67호1426", "24하6011", "34허6688", "68하3650", "55허6755", "89허1649",
      "12하6315", "96허3299", "27하6430", "78호4242", "23허6575", "25허6891", "36호4305", "29하6033", "36하6773", "75하1664",
      "79하4707", "91하6276", "97하4736", "24호5537", "93허5686", "14호1749", "10호6185", "12하7639", "81하3572", "56허7031",
      "88호1991", "55하9149", "51호9394", "36하4481", "85하6507", "22호8079", "12호7698", "65허6188", "59하5619", "38하1867",
      "22허4773", "85하6630", "61허7326", "83하6460", "24허2768", "59하2343", "72하4981", "90호1661", "94하8966", "82허1305",
      "35하9053", "15하3091", "73호2010", "68허5125", "63허7638", "40하5213", "87허5926", "89허8273", "46허2010", "66호5018",
      "70허2699", "42허5952", "60하2952", "54허8710", "59하1121", "68호7184", "19하2382", "32허8430", "95호5007", "57허5519",
      "28호7808", "27하2679", "70호6369", "34하9778", "20호1454", "32하6936", "50허6754", "22하4788", "71호5204", "59허4550",
      "64허7606", "68하8517", "31호1270", "64호5414", "88호4632", "34하9668", "63하1251", "28하6417", "13허6907", "43하7617",
      "34호6338", "27허5102", "83하8857", "32호5136", "98허6120", "70하3311", "44호7501", "93호6068", "49호1956", "23호2266",
      "70허5874", "17호5700", "21하6336", "29하6702", "11호9831", "76호2347", "38호3642", "56호4023", "96허8569", "43허8209",
      "79호5284", "76하5589", "48하5166", "91하7936", "85하2879", "22호7237", "39하1597", "57허4670", "71하9874", "42호1861",
      "12호7360", "78하3064", "13하7110", "11하7443", "46허3424", "66허7281", "70하3796", "53호4773", "90호7435", "90허2288",
      "65허3059", "66하8533", "52하5944", "69하9488", "39허5424", "52허4676", "35호8292", "93허1815", "32호7580", "65허3297",
      "96하7566", "14하2404", "84호8506", "90허5550", "69하9000", "52하5818", "13호4453", "61호4987", "37호5086", "13호3590",
      "91허9895", "28하4031", "65허6670", "72호5131", "93호8393", "44하7387", "85하4888", "50하4606", "15하4324", "89호3190",
      "96호3418", "75허6304", "58호3891", "67허5658", "37호8485", "23호3791", "15호4843", "62허4660", "20하1159", "36허4855",
      "46하1815", "83허8892", "37하6820", "87하3731", "76하6583", "17호7059", "88하9927", "41하8300", "27호2858", "16허3898",
      "64허1488", "77허9910", "90호7348", "44허7915", "35허9650", "86호2488", "70호6054", "65허5481", "91허6282", "97허4662",
      "25허8692", "15하3251", "20호2627", "92호3184", "78하9920", "43하8965", "32허6890", "43하9930", "69허1146", "51하7554"
  );

  @PostConstruct
  public void initVehicles() {
    if (vehicleRepository.count() > 0) return;  // 이미 데이터가 있다면 초기화하지 않음
    IntStream.range(0, vehicleNumbers.size()).forEach(i -> {
      String number = vehicleNumbers.get(i);

      VehicleType type = switch ((i + 1) % 3) {
        case 1 -> VehicleType.MERCEDES;
        case 2 -> VehicleType.FERRARI;
        default -> VehicleType.PORSCHE;
      };

      VehicleEntity vehicle = VehicleEntity.builder()
          .vehicleNumber(number)
          .type(type)
          .status(VehicleStatus.INACTIVE)
          .totalDist(0L)
          .createDate(LocalDateTime.now())
          .build();

      vehicleRepository.save(vehicle);
    });
  }
}